{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/Users/apple/Desktop/YoutubeViewer/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar axios_1 = __importDefault(require(\"axios\"));\nvar ROOT_URL = 'https://www.googleapis.com/youtube/v3/search';\nexports.youtubeSearch = function (options, callback) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var params;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          if (!(!options.key || !options.term)) {\n            _context.next = 2;\n            break;\n          }\n          throw new Error('Youtube Search expected key and term, received undefined');\n        case 2:\n          if (!options.part) {\n            options.part = 'snippet';\n          }\n          if (!options.type) {\n            options.type = 'video';\n          }\n          params = Object.assign({\n            q: options.term\n          }, options);\n          return _context.abrupt(\"return\", axios_1.default.get(ROOT_URL, {\n            params: params\n          }).then(function (response) {\n            if (callback) {\n              callback(response.data.items);\n            }\n            return response.data.items;\n          }).catch(function (error) {\n            if (callback) {\n              callback(null);\n            }\n            throw error;\n          }));\n        case 6:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  }));\n};\nexports.default = exports.youtubeSearch;","map":{"version":3,"sources":["../../src/v1/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;AAGA,IAAM,QAAQ,GAAG,8CAA8C;AAElD,OAAA,CAAA,aAAa,GAAG,UAC3B,OAAgB,EAChB,QAA0C,EAAA;;;;;;gBAEtC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI;YAAA;YAAA;UAAA;UAAA,MACzB,IAAI,KAAK,CAAC,0DAA0D,CAAC;QAAA;UAG7E,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACjB,OAAO,CAAC,IAAI,GAAG,SAAS;UACzB;UACD,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE;YACjB,OAAO,CAAC,IAAI,GAAG,OAAO;UACvB;UAEK,MAAM,GAAA,MAAA,CAAA,MAAA,CAAA;YAGV,CAAC,EAAE,OAAO,CAAC;UAAI,CAAA,EAEZ,OAAO,CACX;UAAA,iCAEM,OAAA,CAAA,OAAK,CACT,GAAG,CAAqB,QAAQ,EAAE;YAAE,MAAM,EAAN;UAAM,CAAE,CAAC,CAC7C,IAAI,CAAC,UAAC,QAAQ,EAAI;YACjB,IAAI,QAAQ,EAAE;cACZ,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC;YAC9B;YACD,OAAO,QAAQ,CAAC,IAAI,CAAC,KAAK;UAC5B,CAAC,CAAC,CACD,KAAK,CAAC,UAAC,KAAY,EAAI;YACtB,IAAI,QAAQ,EAAE;cACZ,QAAQ,CAAC,IAAI,CAAC;YACf;YAED,MAAM,KAAK;UAEb,CAAC,CAAC;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CACL,EAAA;CAAA;AAED,OAAA,CAAA,OAAA,GAAe,OAAA,CAAA,aAAa","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst axios_1 = __importDefault(require(\"axios\"));\r\nconst ROOT_URL = 'https://www.googleapis.com/youtube/v3/search';\r\nexports.youtubeSearch = function (options, callback) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!options.key || !options.term) {\r\n            throw new Error('Youtube Search expected key and term, received undefined');\r\n        }\r\n        if (!options.part) {\r\n            options.part = 'snippet';\r\n        }\r\n        if (!options.type) {\r\n            options.type = 'video';\r\n        }\r\n        const params = Object.assign({ q: options.term }, options);\r\n        return axios_1.default\r\n            .get(ROOT_URL, { params })\r\n            .then((response) => {\r\n            if (callback) {\r\n                callback(response.data.items);\r\n            }\r\n            return response.data.items;\r\n        })\r\n            .catch((error) => {\r\n            if (callback) {\r\n                callback(null);\r\n            }\r\n            throw error;\r\n        });\r\n    });\r\n};\r\nexports.default = exports.youtubeSearch;\r\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}